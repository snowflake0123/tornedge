(this.webpackJsonpTornedge=this.webpackJsonpTornedge||[]).push([[1],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){var a={"./pwa-action-sheet.entry.js":[165,59],"./pwa-camera-modal-instance.entry.js":[166,60],"./pwa-camera-modal.entry.js":[167,61],"./pwa-camera.entry.js":[168,62],"./pwa-toast.entry.js":[169,63]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=114,e.exports=r},115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),l=n.n(o),c=n(23),i=n(1),s=n(61),m=n(18),u=(n(52),n(6));var f=function(e,t){var n=function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),a),t}},r=Object(a.useState)(n),o=Object(m.a)(r,2),l=o[0],c=o[1];return Object(a.useEffect)((function(){c(n())}),[]),Object(a.useEffect)((function(){var e=function(){c(n())};return window.addEventListener("storage",e),window.addEventListener("local-storage",e),function(){window.removeEventListener("storage",e),window.removeEventListener("local-storage",e)}}),[]),[l,function(t){"undefined"==typeof window&&console.warn("Tried setting localStorage key \u201c".concat(e,"\u201d even though environment is not a client"));try{var n=t instanceof Function?t(l):t;window.localStorage.setItem(e,JSON.stringify(n)),c(n),window.dispatchEvent(new Event("local-storage"))}catch(a){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),a)}}]},E=function(){for(var e,t=new FormData,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if((e=1===a.length&&"object"===typeof a[0]?a[0]:a).length%2===0)for(var o=0;o<e.length;o+=2)t.set(e[o],e[o+1]);return t},d=n(26),p=n.n(d),h=function(e){var t=r.a.useRef(null),n=f("image_id",null),o=Object(m.a)(n,2),l=(o[0],o[1],Object(a.useState)("No photo chosen")),c=Object(m.a)(l,2),s=c[0],d=c[1];return r.a.createElement(i.u,null,r.a.createElement(i.i,null,r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"home-title"},r.a.createElement(i.t,{className:"middle-text"},"Miyata Lab"),r.a.createElement("br",null),r.a.createElement(i.q,{className:"large-text"},"Tornedge")),r.a.createElement(i.k,{icon:u.p,className:"huge-icon ion-margin"}),r.a.createElement(i.c,{size:"large",strong:!0,onClick:function(){t&&t.current&&t.current.click()}},r.a.createElement(i.k,{icon:u.m,className:"ion-margin-end"}),"Choose Photo",r.a.createElement("input",{className:"display-none",type:"file",ref:t,accept:"image/*",onChange:function(t){console.log("[API] upload_image");var n=t.target.files,a="No photo chosen";if(null!==n&&void 0!==n[0]){a=n[0].name;var r=E("cmd","upload_image","image",n[0]);p.a.post("http://localhost:56060",r).then((function(e){localStorage.image_id=e.data.data.image_id,console.log("localstorage",localStorage.getItem("image_id")),localStorage.clear()})).catch((function(e){console.log(e)})),e.history.push("/Functions")}console.log(a),d(a)}})),r.a.createElement(i.q,{className:"ion-margin"},s))))},g=function(e){return r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.A,null,r.a.createElement(i.d,{slot:"start"},r.a.createElement(i.b,{defaultHref:"/home"})),r.a.createElement(i.z,null,"Functions"))),r.a.createElement(i.i,null,r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"functions ion-align-items-center ion-justify-content-center"},r.a.createElement(i.e,{className:"ion-text-center",onClick:function(){return e.history.push("/fileTop")}},r.a.createElement(i.g,null,r.a.createElement(i.h,null,"File")),r.a.createElement(i.k,{icon:u.l,size:"large"}),r.a.createElement(i.f,null,"File transfer",r.a.createElement("br",null)," by using a piece of paper.")),r.a.createElement(i.e,{className:"ion-text-center",onClick:function(){return e.history.push("/chatTop")}},r.a.createElement(i.g,null,r.a.createElement(i.h,null,"Chat")),r.a.createElement(i.k,{icon:u.c,size:"large"}),r.a.createElement(i.f,null,"Chat",r.a.createElement("br",null)," by using a piece of paper."))))))},y=(n(98),function(e){return r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.A,null,r.a.createElement(i.d,{slot:"start"},r.a.createElement(i.b,{defaultHref:"/functions"})),r.a.createElement(i.z,null,"File"))),r.a.createElement(i.i,null,r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"roles"},r.a.createElement(i.e,{className:"role ion-text-center",onClick:function(){return e.history.push("/fileSend")}},r.a.createElement(i.g,null,r.a.createElement(i.h,{className:"ion-text-nowrap"},"Send")),r.a.createElement(i.k,{icon:u.k,size:"large"}),r.a.createElement(i.f,null)),r.a.createElement(i.e,{className:"role ion-text-center",onClick:function(){return e.history.push("/fileReceive")}},r.a.createElement(i.g,null,r.a.createElement(i.h,{className:"ion-text-nowrap"},"Receive")),r.a.createElement(i.k,{icon:u.j,size:"large"}),r.a.createElement(i.f,null))))))}),j=(n(99),function(e){var t=r.a.useRef(null);return r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.A,null,r.a.createElement(i.d,{slot:"start"},r.a.createElement(i.b,{defaultHref:"/functions"})),r.a.createElement(i.z,null,"Chat"))),r.a.createElement(i.i,null,r.a.createElement("div",{className:"centered"},r.a.createElement(i.k,{icon:u.p,className:"huge-icon ion-margin-bottom"}),r.a.createElement(i.c,{size:"large",strong:!0,onClick:function(){e.history.push("/chatRoom")}},r.a.createElement(i.k,{icon:u.m,className:"ion-margin-end"}),"Create Room",r.a.createElement("input",{className:"display-none",type:"file",ref:t,accept:"image/*"})),r.a.createElement(i.c,{size:"large",strong:!0,onClick:function(){e.history.push("/chatRoom")}},r.a.createElement(i.k,{icon:u.m,className:"ion-margin-end"}),"Enter Room",r.a.createElement("input",{className:"display-none",type:"file",ref:t,accept:"image/*"})))))});n(100);function w(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.detail.complete()}),1e3)}var v=[{who:"me",text:"Hi, we met earlier. I'm Bob."},{who:"partner",text:"Hey Bob. I'm Kenny."},{who:"me",text:"I'd like to continue what we were talking about earlier, if that's okay."},{who:"partner",text:"Of course."},{who:"partner",text:"Oh, I'm sorry. I've got some business to attend to later, so can I have ten minutes with you?"},{who:"me",text:"Okay! Then let's talk briefly."}],b=function(e){return r.a.createElement(i.m,{lines:"none"},r.a.createElement(i.q,{className:"ion-margin-start me-speech-bubble ion-padding ion-text-wrap"},e.text))},k=function(e){return r.a.createElement(i.m,{lines:"none"},r.a.createElement(i.q,{className:"ion-margin-end partner-speech-bubble ion-padding ion-text-wrap"},e.text))},N=function(e){return 0===e.messages.length?null:r.a.createElement(i.r,{className:"ion-padding-top"},e.messages.map((function(e,t){return"me"===e.who?r.a.createElement(b,{key:t,who:e.who,text:e.text}):r.a.createElement(k,{key:t,who:e.who,text:e.text})})))},_=function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),o=n[0],l=n[1];return Object(i.J)((function(){console.log("[API] enter_chat_room");var e=new FormData;e.append("cmd","enter_chat_room"),e.append("image_id","1"),p.a.post("http://localhost:56060",e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))})),r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.A,null,r.a.createElement(i.d,{slot:"start"},r.a.createElement(i.c,{fill:"clear",size:"small",onClick:function(){return function(){console.log("[API] exit_chat");var t=E("cmd","exit_chat","image_id","1");p.a.post("http://localhost:56060",t).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.history.goBack()}()}},"Back")),r.a.createElement(i.z,null,"Chat -Chat Room-"),r.a.createElement(i.c,{slot:"end",color:"midium",size:"small",onClick:function(){console.log("[API] update_chat")}},r.a.createElement(i.k,{icon:u.q})))),r.a.createElement(i.i,null,r.a.createElement(i.v,{slot:"fixed",onIonRefresh:w},r.a.createElement(i.w,{pullingIcon:u.e,pullingText:"Pull to refresh",refreshingSpinner:"circles",refreshingText:"Refreshing..."})),r.a.createElement(N,{messages:v})),r.a.createElement(i.m,null,r.a.createElement(i.l,{className:"ion-margin-start",color:"Midium",placeholder:"Message",value:o,onIonChange:function(e){return l(e.detail.value)},required:!0})),r.a.createElement("div",{className:"ion-padding"},r.a.createElement(i.c,{color:"success",expand:"block",onClick:function(){return console.log("[API] send_chat"),void l("")}},"Send")))},x=(n(101),n(37)),O=function(){var e=Object(x.a)(),t=e.register,n=e.setValue,a=e.handleSubmit;return r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.A,null,r.a.createElement(i.d,{slot:"start"},r.a.createElement(i.b,{defaultHref:"/FileTop"})),r.a.createElement(i.z,null,"File -Send-"))),r.a.createElement(i.i,null,r.a.createElement("form",{onSubmit:a((function(e){console.log("data",e)}))},r.a.createElement("input",{name:"type",className:"display-none",type:"text",ref:t}),r.a.createElement(i.e,null,r.a.createElement(i.g,null,r.a.createElement(i.h,null,"File")),r.a.createElement(i.f,null,r.a.createElement("label",{className:"choose-button",onClick:function(){n("type","sender")}},r.a.createElement(i.k,{icon:u.l,className:"ion-margin-end"}),"Choose File",r.a.createElement("input",{name:"file",className:"display-none",type:"file",ref:t({required:!0})})))),r.a.createElement("div",{className:"footer-button"},r.a.createElement(i.c,{expand:"full",size:"large",className:"ion-align-self-end",type:"submit"},"Send")))))},C=(n(102),function(){var e=Object(x.a)(),t=e.register,n=(e.setValue,e.handleSubmit);return r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.A,null,r.a.createElement(i.d,{slot:"start"},r.a.createElement(i.b,{defaultHref:"/FileTop"})),r.a.createElement(i.z,null,"File -Receive-"))),r.a.createElement(i.i,null,r.a.createElement("form",{onSubmit:n((function(e){var t=new FormData;t.set("type",e.type),t.set("receipt",e.receipt[0]),t.set("image",""),p.a.post("http://localhost:56060/",t).then((function(e){console.log("body:",e.data)}))}))},r.a.createElement("input",{name:"type",className:"display-none",type:"text",ref:t}),r.a.createElement(i.r,null,r.a.createElement(i.s,null,r.a.createElement(i.q,null,"Received Files")),r.a.createElement(i.p,null,r.a.createElement(i.m,{href:"https://www.google.com"},r.a.createElement(i.q,null,"Item")),r.a.createElement(i.o,{side:"end"},r.a.createElement(i.n,{color:"danger",onClick:function(){}},"Delete"))),r.a.createElement(i.p,null,r.a.createElement(i.m,{href:"https://www.google.com"},r.a.createElement(i.q,null,"Item")),r.a.createElement(i.o,{side:"end"},r.a.createElement(i.n,{color:"danger",onClick:function(){}},"Danger")))),r.a.createElement("div",{className:"footer-button"},r.a.createElement(i.c,{expand:"full",size:"large",className:"ion-align-self-end",type:"submit"},"Receive")))))}),S=(n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(i.y,null,r.a.createElement(c.b,{path:"/home",component:h}),r.a.createElement(c.b,{path:"/functions",component:g}),r.a.createElement(c.b,{path:"/fileTop",component:y}),r.a.createElement(c.b,{path:"/ChatTop",component:j}),r.a.createElement(c.b,{path:"/ChatRoom",component:_}),r.a.createElement(c.b,{path:"/FileSend",component:O}),r.a.createElement(c.b,{path:"/FileReceive",component:C}),r.a.createElement(c.a,{exact:!0,from:"/",to:"/home"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(64);l.a.render(r.a.createElement(S,null),document.getElementById("root")),Object(F.a)(window),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,n){},68:function(e,t,n){e.exports=n(115)},74:function(e,t,n){var a={"./ion-action-sheet.entry.js":[117,7],"./ion-alert.entry.js":[118,8],"./ion-app_8.entry.js":[119,9],"./ion-avatar_3.entry.js":[120,19],"./ion-back-button.entry.js":[121,20],"./ion-backdrop.entry.js":[122,45],"./ion-button_2.entry.js":[123,21],"./ion-card_5.entry.js":[124,22],"./ion-checkbox.entry.js":[125,23],"./ion-chip.entry.js":[126,24],"./ion-col_3.entry.js":[127,46],"./ion-datetime_3.entry.js":[128,12],"./ion-fab_3.entry.js":[129,25],"./ion-img.entry.js":[130,47],"./ion-infinite-scroll_2.entry.js":[131,48],"./ion-input.entry.js":[132,26],"./ion-item-option_3.entry.js":[133,27],"./ion-item_8.entry.js":[134,28],"./ion-loading.entry.js":[135,29],"./ion-menu_3.entry.js":[136,30],"./ion-modal.entry.js":[137,10],"./ion-nav_2.entry.js":[138,16],"./ion-popover.entry.js":[139,11],"./ion-progress-bar.entry.js":[140,31],"./ion-radio_2.entry.js":[141,32],"./ion-range.entry.js":[142,33],"./ion-refresher_2.entry.js":[143,13],"./ion-reorder_2.entry.js":[144,18],"./ion-ripple-effect.entry.js":[145,49],"./ion-route_4.entry.js":[146,34],"./ion-searchbar.entry.js":[147,35],"./ion-segment_2.entry.js":[148,36],"./ion-select_3.entry.js":[149,37],"./ion-slide_2.entry.js":[150,50],"./ion-spinner.entry.js":[151,15],"./ion-split-pane.entry.js":[152,51],"./ion-tab-bar_2.entry.js":[153,38],"./ion-tab_2.entry.js":[154,17],"./ion-text.entry.js":[155,39],"./ion-textarea.entry.js":[156,40],"./ion-toast.entry.js":[157,41],"./ion-toggle.entry.js":[158,14],"./ion-virtual-scroll.entry.js":[159,52]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=74,e.exports=r},76:function(e,t,n){var a={"./ion-icon.entry.js":[161,67]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=76,e.exports=r},98:function(e,t,n){},99:function(e,t,n){}},[[68,3,6]]]);
//# sourceMappingURL=main.76e5ba6a.chunk.js.map